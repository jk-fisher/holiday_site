(()=>{"use strict";var e=function(){var e=document.getElementById("topnav");"topnav"===e.className?e.className+=" responsive":e.className="topnav"};function t(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.date=new Date,this.month=["January","February","March","April","May","June","July","August","September","October","November","December"],this.prevMonth=document.querySelector(".prev-month"),this.nextMonth=document.querySelector(".next-month"),this.prevYear=document.querySelector(".prev-year"),this.nextYear=document.querySelector(".next-year"),this.monthDays=document.querySelector(".days"),this.dateEnquiry=document.querySelector(".header"),this.selectedDateCounter=0,this.firstDateSelected=null,this.secondDateSelected=null,this.firstIndexSelected=null,this.secondIndexSelected=null,this.lastDate=null,this.prevLastDate=null,this.firstDayIndex=null,this.lastDayIndex=null,this.nextMonthDays=null}var n,a;return n=e,(a=[{key:"selectDays",value:function(e){this.selectedDateCounter++;var t=this.createDateObject(e);1!==this.selectedDateCounter||this.firstDateSelected?2===this.selectedDateCounter&&this.firstDateSelected<t?(this.secondDateSelected=t,this.secondIndexSelected=e,this.renderUIDates()):(this.firstDateSelected=t,this.firstIndexSelected=e,this.secondDateSelected=null,this.secondIndexSelected=null,this.selectedDateCounter=1,document.querySelectorAll(".day").forEach((function(e){e.classList.remove("clicked"),e.classList.remove("clicked-range")}))):(this.firstDateSelected=t,this.firstIndexSelected=e),this.highlightDays()}},{key:"highlightDays",value:function(){if(1===this.selectedDateCounter&&this.firstDateSelected>=this.createDateObject(0))document.getElementById(this.findIndexofDay(this.firstDateSelected)).classList.add("clicked");else if(2===this.selectedDateCounter&&this.secondDateSelected>this.createDateObject(0))if(this.findIndexofDay(this.firstDateSelected)&&this.findIndexofDay(this.firstDateSelected)<0){this.secondIndexSelected=this.findIndexofDay(this.secondDateSelected),this.findIndexofDay(this.secondDateSelected),document.getElementById(this.secondIndexSelected).classList.add("clicked");for(var e=0;e<this.secondIndexSelected;e++){var t=e.toString();document.getElementById(t).classList.add("clicked-range")}}else if(this.findIndexofDay(this.firstDateSelected)&&this.secondDateSelected>this.createDateObject(this.findLastIndex())){var n=document.getElementById(this.findIndexofDay(this.firstDateSelected));if(n){n.classList.add("clicked");for(var a=this.findIndexofDay(this.firstDateSelected)+1;a<=this.findLastIndex();a++){var s=a.toString();document.getElementById(s).classList.add("clicked-range")}}}else{document.getElementById(this.findIndexofDay(this.firstDateSelected)).classList.add("clicked"),document.getElementById(this.findIndexofDay(this.secondDateSelected)).classList.add("clicked");for(var i=this.findIndexofDay(this.firstDateSelected)+1;i<this.findIndexofDay(this.secondDateSelected);i++){var d=i.toString();document.getElementById(d).classList.add("clicked-range")}}}},{key:"createDateObject",value:function(e){var t=e+1-this.firstDayIndex,n=this.date.getMonth(),a=this.date.getFullYear();return t>this.lastDate?(n++,t-=this.lastDate,n>11&&(a++,n-=12)):t<1&&(n--,t=this.prevLastDate+t,n<0&&(a--,n+=12)),new Date(a,n,t)}},{key:"findIndexofDay",value:function(e){var t=e.getDate(),n=e.getMonth();return n===this.date.getMonth()-1?this.firstDayIndex-1-(this.prevLastDate-t):n===this.date.getMonth()+1?t+this.lastDate+(this.firstDayIndex-1):n===this.date.getMonth()?t+(this.firstDayIndex-1):void 0}},{key:"findLastIndex",value:function(){return this.firstDayIndex-1+this.lastDate+this.nextMonthDays}},{key:"calculateNights",value:function(){var e=this.secondDateSelected.getTime()-this.firstDateSelected.getTime();return Math.round(e/864e5)}},{key:"renderUIDates",value:function(){var e={weekday:"long",year:"numeric",month:"long",day:"numeric"},t=(47*this.calculateNights()*.1).toFixed(2),n=(47*this.calculateNights()-t).toFixed(2),a=document.querySelector(".price-breakdown"),s=document.querySelector(".price-filler");if(this.dateEnquiry.innerHTML='<span class="white">'.concat(this.firstDateSelected.toLocaleString("en-GB",e)," - <br>").concat(this.secondDateSelected.toLocaleString("en-GB",e),"</span>"),s.classList.add("none"),document.querySelector("body > div.content-container > section.template.price > div.price-container > div.price-summary > button").classList.remove("none"),a.innerHTML='<li class="flex"><span class="calculate-nights">£48 x '.concat(this.calculateNights(),' nights</span><span class="nights-price">£').concat((47*this.calculateNights()).toFixed(2),'</span></li>\n                                    <li class="flex border"><span><b>Total:</span><span>£').concat(n,"</b></span>"),this.calculateNights()>6){var i=document.createElement("li");i.classList.add("flex"),i.innerHTML="<span>Weekly discount -10%</span><span>-£".concat(t,"</span>"),a.insertBefore(i,a.firstElementChild.nextElementSibling)}}},{key:"renderCalendar",value:function(){this.date.setDate(1),this.lastDate=new Date(this.date.getFullYear(),this.date.getMonth()+1,0).getDate(),this.prevLastDate=new Date(this.date.getFullYear(),this.date.getMonth(),0).getDate(),this.firstDayIndex=this.date.getDay(),this.lastDayIndex=new Date(this.date.getFullYear(),this.date.getMonth()+1,0).getDay(),this.nextMonthDays=7-this.lastDayIndex-1,document.querySelector(".month").innerHTML=this.month[this.date.getMonth()],document.querySelector(".year").innerHTML=this.date.getFullYear(),document.querySelector(".selected-date").innerHTML=(new Date).toDateString();for(var e="",t=0,n=this.firstDayIndex;n>0;n--)e+='<div class="prev-date day" id='.concat(t,">").concat(this.prevLastDate-n+1,"</div>"),t++;for(var a=1;a<=this.lastDate;a++)a===(new Date).getDate()&&this.date.getMonth()===(new Date).getMonth()&&this.date.getFullYear()===(new Date).getFullYear()?e+='<div class="today day" id='.concat(t,">").concat(a,"</div>"):e+='<div class="day" id='.concat(t,">").concat(a,"</div>"),t++;for(var s=1;s<=this.nextMonthDays;s++)e+='<div class="next-date day" id='.concat(t,">").concat(s,"</div>"),t++;this.monthDays.innerHTML=e,this.highlightDays(),this.date.getFullYear()<=(new Date).getFullYear()&&this.date.getMonth()<=(new Date).getMonth()?(this.prevYear.classList.add("none"),this.prevMonth.classList.add("none")):this.date.getFullYear()<=(new Date).getFullYear()&&this.prevYear.classList.add("none"),this.date.getFullYear()>=(new Date).getFullYear()&&this.date.getMonth()>=(new Date).getMonth()+1&&this.prevMonth.classList.remove("none"),this.date.getFullYear()>(new Date).getFullYear()&&(this.prevYear.classList.remove("none"),this.prevMonth.classList.remove("none"))}}])&&t(n.prototype,a),e}(),a=document.getElementById("myModal"),s=document.getElementById("amenities-btn"),i=document.getElementsByClassName("close")[0];s.addEventListener("click",(function(){a.style.display="block"})),i.addEventListener("click",(function(){a.style.display="none"})),window.addEventListener("click",(function(e){e.target==a&&(a.style.display="none")}));var d=document.getElementById("navbar");d.addEventListener("click",(function(){e(),console.log("got element",d)})),document.querySelectorAll(".nav-item").forEach((function(t){t.addEventListener("click",(function(){e()}))})),window.addEventListener("scroll",(function(){var e;e=document.getElementById("checkAvailabilityBtn"),document.body.scrollTop>20||document.documentElement.scrollTop>20?e.style.display="block":e.style.display="none"})),document.getElementById("moreBtn").addEventListener("click",(function(){var e,t,n,a;e=document.getElementById("dots"),t=document.getElementById("more"),n=document.getElementById("moreBtn"),a=document.getElementById("imageCards"),"none"===e.style.display?(e.style.display="inline",n.innerHTML="Read more <i class='fas fa-angle-down'>",t.style.display="none",a.style.marginBottom="0px"):(e.style.display="none",n.innerHTML="Read less <i class='fas fa-angle-up'></i>",t.style.display="inline",a.style.marginBottom="180px")}));var l=new n;l.renderCalendar(),l.prevMonth.addEventListener("click",(function(){l.date.setMonth(l.date.getMonth()-1),l.renderCalendar()})),l.nextMonth.addEventListener("click",(function(){l.date.setMonth(l.date.getMonth()+1),l.renderCalendar()})),l.prevYear.addEventListener("click",(function(){l.date.setFullYear(l.date.getFullYear()-1),l.renderCalendar()})),l.nextYear.addEventListener("click",(function(){l.date.setFullYear(l.date.getFullYear()+1),l.renderCalendar()})),l.monthDays.addEventListener("click",(function(e){if(e.target.classList.contains("day")){var t=parseInt(e.target.id),n=document.querySelector(".today");(l.date.getMonth()!=(new Date).getMonth()||l.date.getFullYear()!=(new Date).getFullYear()||t>=parseInt(n.id)&&l.date.getMonth()===(new Date).getMonth()&&l.date.getFullYear()===(new Date).getFullYear())&&l.selectDays(t)}}))})();